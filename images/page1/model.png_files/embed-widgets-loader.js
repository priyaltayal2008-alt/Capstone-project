(function(){function f(r,o,u,t){Object.defineProperty(r,o,{get:u,set:t,enumerable:!0,configurable:!0})}var b=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{},e=b.parcelRequire94c2,a=e.register;a("1BUT1",function(r,o){f(r.exports,"default",function(){return c});var u=e("bkGGB"),t=e("kCbDV"),D=e("ljwIw"),E=e("519R9"),p=e("aEodP");class i{constructor(){this.domUpdatesListenerInitialized=!1,this.widgets=[],this.embedWidgetsMap={}}async init(){const n=[],l=[t.CAROUSEL_EMBED_WIDGET,t.STORY_EMBED_WIDGET,t.EMBED_WIDGET,t.TILE_EMBED_WIDGET,t.COLLECTION_TILE_EMBED_WIDGET];for(const s of l){const d=t.EMBED_WIDGETS_CLASSNAMES[s],{default:m}=await e("20jZi"),h=new m({name:s,elementClassname:d});this.embedWidgetsMap[s]={embedWidget:h,loaded:!1},n.push(d)}this.registerDomUpdatesListenerIfNeeded(n),this.subscribeToUrlChange(),await this.loadEmbedWidgets()}loadEmbedWidgets=async()=>{const n=Object.entries(this.embedWidgetsMap).map(async([l,{embedWidget:s,loaded:d,loading:m}])=>{if(s.shouldLoad()){if(m){setTimeout(()=>this.loadEmbedWidgets(),2e3);return}d||await this.loadEmbedWidget({embedWidgetName:l,embedWidget:s}),await s.init()}});await Promise.all(n)};async loadEmbedWidget({embedWidgetName:n,embedWidget:l}){this.embedWidgetsMap[n].loading=!0;let s;const d=u.default?.accountSettings?.usePlatformWidget??!1;switch(n){case t.CAROUSEL_EMBED_WIDGET:s=await e(d?"d91ym":"52bD3");break;case t.STORY_EMBED_WIDGET:s=await e(d?"2HcLW":"lV73O");break;case t.EMBED_WIDGET:s=await e("h3PHq");break;case t.TILE_EMBED_WIDGET:s=await e("eoFLj");break;case t.COLLECTION_TILE_EMBED_WIDGET:s=await e("fnytN");break;case t.COLLECTION_PAGE_TILE_EMBED_WIDGET:s=await e("j2sAT");break}l.setComponent(s.default);const{commonLoader:m}=await e("5SnOi");await m(),this.embedWidgetsMap[n].loaded=!0,this.embedWidgetsMap[n].loading=!1}registerDomUpdatesListenerIfNeeded(n){if(this.domUpdatesListenerInitialized)return;const l=()=>this.loadEmbedWidgets();(0,D.registerDomUpdatesListener)({classNames:n,callback:l}),this.domUpdatesListenerInitialized=!0}handleUrlChange=()=>{for(const n of Object.keys(this.embedWidgetsMap))this.embedWidgetsMap[n].loaded=!1;this.loadEmbedWidgets()};subscribeToUrlChange(){E.default.subscribe({eventName:p.INTERNAL_EVENTS.urlChange,callback:this.handleUrlChange})}}var c=i}),a("20jZi",function(r,o){r.exports=Promise.all([e("1rN27")(e("jHnDr").resolve("i8uuP")),e("1rN27")(e("jHnDr").resolve("bbcX5"))]).then(()=>e("SMK6d"))}),a("d91ym",function(r,o){r.exports=Promise.all([e("1rN27")(e("jHnDr").resolve("i8uuP")),e("1rN27")(e("jHnDr").resolve("5tuD6"))]).then(()=>e("hq7Bx"))}),a("52bD3",function(r,o){r.exports=Promise.all([e("1rN27")(e("jHnDr").resolve("i8uuP")),e("1rN27")(e("jHnDr").resolve("89rZX"))]).then(()=>e("hdNOp"))}),a("2HcLW",function(r,o){r.exports=Promise.all([e("9FDC1")(e("jHnDr").resolve("16zx1")),e("1rN27")(e("jHnDr").resolve("cDpG9")),e("1rN27")(e("jHnDr").resolve("i8uuP")),e("1rN27")(e("jHnDr").resolve("6UW58"))]).then(()=>e("cUBtF"))}),a("9FDC1",function(r,o){"use strict";var u=e("JNMYe");r.exports=u(function(t){return new Promise(function(D,E){var p=document.getElementsByTagName("link");if([].concat(p).some(function(c){return c.href===t&&c.rel.indexOf("stylesheet")>-1})){D();return}var i=document.createElement("link");i.rel="stylesheet",i.href=t,i.onerror=function(c){i.onerror=i.onload=null,i.remove(),E(c)},i.onload=function(){i.onerror=i.onload=null,D()},document.getElementsByTagName("head")[0].appendChild(i)})})}),a("lV73O",function(r,o){r.exports=Promise.all([e("9FDC1")(e("jHnDr").resolve("ls8QA")),e("1rN27")(e("jHnDr").resolve("cDpG9")),e("1rN27")(e("jHnDr").resolve("i8uuP")),e("1rN27")(e("jHnDr").resolve("34FYC"))]).then(()=>e("2LevF"))}),a("h3PHq",function(r,o){r.exports=Promise.all([e("9FDC1")(e("jHnDr").resolve("1U8tk")),e("1rN27")(e("jHnDr").resolve("cDpG9")),e("1rN27")(e("jHnDr").resolve("i8uuP")),e("1rN27")(e("jHnDr").resolve("l1VTG"))]).then(()=>e("8EN4e"))}),a("eoFLj",function(r,o){r.exports=Promise.all([e("9FDC1")(e("jHnDr").resolve("cGSvp")),e("1rN27")(e("jHnDr").resolve("i8uuP")),e("1rN27")(e("jHnDr").resolve("jiIH5"))]).then(()=>e("2IbOs"))}),a("fnytN",function(r,o){r.exports=Promise.all([e("9FDC1")(e("jHnDr").resolve("6iLLd")),e("1rN27")(e("jHnDr").resolve("i8uuP")),e("1rN27")(e("jHnDr").resolve("lCIdQ"))]).then(()=>e("a0Gsc"))}),a("j2sAT",function(r,o){r.exports=Promise.all([e("9FDC1")(e("jHnDr").resolve("ksyNr")),e("1rN27")(e("jHnDr").resolve("i8uuP")),e("1rN27")(e("jHnDr").resolve("6mZ8R"))]).then(()=>e("li39R"))}),a("5SnOi",function(r,o){r.exports=e("1rN27")(e("jHnDr").resolve("6RawR")).then(()=>e("jWPpp"))})})();
