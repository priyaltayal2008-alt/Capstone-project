(function(){function _(t){Object.defineProperty(t,"__esModule",{value:!0,configurable:!0})}function r(t,l,o,e){Object.defineProperty(t,l,{get:o,set:e,enumerable:!0,configurable:!0})}var p=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{},c=p.parcelRequire94c2,d=c.register;d("iq3md",function(t,l){_(t.exports),r(t.exports,"default",function(){return u});var o=c("kHyIS"),e=c("519R9"),a=c("h9KvR");const i=[o.EXTERNAL_EVENTS_TO_POST.rejectCookiePolicy,o.EXTERNAL_EVENTS_TO_POST.acceptCookiePolicy];class n{constructor(){if(n.instance)return n.instance;n.instance=this}externalMessagingHandler=E=>{switch(E.data.eventName){case o.EXTERNAL_EVENTS_TO_POST.rejectCookiePolicy:return(0,a.handleRejectCookiePolicy)();case o.EXTERNAL_EVENTS_TO_POST.acceptCookiePolicy:return(0,a.handleAcceptCookiePolicy)();default:return null}};initExternalMessagingSubscriptions=()=>{e.default.subscribeMultipleEvents({eventNames:i,callback:this.externalMessagingHandler})};init(){this.initExternalMessagingSubscriptions()}}const s=new n;Object.freeze(s);var u=s}),d("kHyIS",function(t,l){r(t.exports,"EXTERNAL_EVENTS_TO_SUBSCRIBE",function(){return o}),r(t.exports,"EXTERNAL_EVENTS_TO_POST",function(){return e}),r(t.exports,"ALLOWED_EXTERNAL_EVENTS_TO_SUBSCRIBE",function(){return a}),r(t.exports,"ALLOWED_EXTERNAL_EVENTS_TO_POST",function(){return i});const o={addToCart:"tolstoy_add_to_cart",spotlightCarouselQuickShopClick:"tolstoy_spotlight_carousel_quick_shop_click",productCardClick:"tolstoy_product_card_click"},e={addToCartSuccess:"tolstoy_add_to_cart_success",addToCartError:"tolstoy_add_to_cart_error",acceptCookiePolicy:"tolstoy_accept_cookie_policy",rejectCookiePolicy:"tolstoy_reject_cookie_policy",tolstoyZIndexChange:"tolstoy_z_index_change",urlLocaleUpdate:"tolstoy_url_locale_update",productUpdate:"tolstoy_product_update"},a=Object.values(o),i=new Set([e.addToCartSuccess,e.addToCartError,e.acceptCookiePolicy,e.rejectCookiePolicy,e.tolstoyZIndexChange,e.urlLocaleUpdate,e.productUpdate])}),d("h9KvR",function(t,l){r(t.exports,"handleRejectCookiePolicy",function(){return n}),r(t.exports,"handleAcceptCookiePolicy",function(){return s});var o=c("lxjfR"),e=c("hlJEM"),a=c("aEodP"),i=c("519R9");const n=()=>{(0,o.removeAllTolstoyKeysFromStorage)(),(0,o.setCookiePolicy)(e.COOKIE_POLICIES.rejected),i.default.postMessage({eventName:a.INTERNAL_EVENTS.rejectCookiePolicy})},s=()=>{(0,o.removeFromCache)(e.TOLSTOY_CACHE_KEYS.TOLSTOY_COOKIE_POLICY),i.default.postMessage({eventName:a.INTERNAL_EVENTS.acceptCookiePolicy})}})})();
