(function(){function _(t){Object.defineProperty(t,"__esModule",{value:!0,configurable:!0})}function c(t,n,r,e){Object.defineProperty(t,n,{get:r,set:e,enumerable:!0,configurable:!0})}var f=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{},o=f.parcelRequire94c2,i=o.register;i("klml0",function(t,n){_(t.exports),c(t.exports,"default",function(){return a});var r=o("519R9"),e=o("kIp6T"),d=o("gg5es");class s{initInternalMessagingSubscriptions(){r.default.subscribeMultipleEvents({eventNames:e.INTERNAL_MESSAGES_TO_SUBSCRIBE,callback:d.internalMessagingHandler})}init(){this.initInternalMessagingSubscriptions()}}const u=new s;Object.freeze(u);var a=u}),i("kIp6T",function(t,n){c(t.exports,"INTERNAL_MESSAGES_TO_SUBSCRIBE",function(){return e});var r=o("aEodP");const e=[r.INTERNAL_EVENTS.externalEventSubscribed,r.INTERNAL_EVENTS.productCardClick]}),i("gg5es",function(t,n){c(t.exports,"internalMessagingHandler",function(){return u});var r=o("kHyIS"),e=o("aEodP"),d=o("519R9");const s=({subscribedEventName:a,payload:p})=>{switch(a){case r.EXTERNAL_EVENTS_TO_SUBSCRIBE.productCardClick:{const{disableProductModal:l=!0}=p;d.default.postMessage({eventName:e.INTERNAL_EVENTS.productCardClickSubscribed,isDisableProductModal:l});break}default:return null}},u=({data:a})=>{const{eventName:p}=a;switch(p){case e.INTERNAL_EVENTS.externalEventSubscribed:{const{subscribedEventName:l,payload:E}=a;s({subscribedEventName:l,payload:E});break}case e.INTERNAL_EVENTS.productCardClick:{const{variantId:l,productId:E,externalProductIds:b,productHandle:S}=a;d.default.postMessage({eventName:r.EXTERNAL_EVENTS_TO_SUBSCRIBE.productCardClick,variantId:l,productId:E,taggedProductIds:b,productHandle:S});break}default:return null}}}),i("kHyIS",function(t,n){c(t.exports,"EXTERNAL_EVENTS_TO_SUBSCRIBE",function(){return r}),c(t.exports,"EXTERNAL_EVENTS_TO_POST",function(){return e}),c(t.exports,"ALLOWED_EXTERNAL_EVENTS_TO_SUBSCRIBE",function(){return d}),c(t.exports,"ALLOWED_EXTERNAL_EVENTS_TO_POST",function(){return s});const r={addToCart:"tolstoy_add_to_cart",spotlightCarouselQuickShopClick:"tolstoy_spotlight_carousel_quick_shop_click",productCardClick:"tolstoy_product_card_click"},e={addToCartSuccess:"tolstoy_add_to_cart_success",addToCartError:"tolstoy_add_to_cart_error",acceptCookiePolicy:"tolstoy_accept_cookie_policy",rejectCookiePolicy:"tolstoy_reject_cookie_policy",tolstoyZIndexChange:"tolstoy_z_index_change",urlLocaleUpdate:"tolstoy_url_locale_update",productUpdate:"tolstoy_product_update"},d=Object.values(r),s=new Set([e.addToCartSuccess,e.addToCartError,e.acceptCookiePolicy,e.rejectCookiePolicy,e.tolstoyZIndexChange,e.urlLocaleUpdate,e.productUpdate])})})();
