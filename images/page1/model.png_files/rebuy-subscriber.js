(function(){function u(e){Object.defineProperty(e,"__esModule",{value:!0,configurable:!0})}function s(e,i,t,n){Object.defineProperty(e,i,{get:t,set:n,enumerable:!0,configurable:!0})}var l=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{},r=l.parcelRequire94c2,d=r.register;d("6gZvj",function(e,i){u(e.exports),s(e.exports,"default",function(){return b});var t=r("aEodP"),n=r("519R9"),a=r("dM1qF");class E{sendIsRebuyAppInstalledMessage=()=>{if(!window?.Rebuy?.SmartCart){document.addEventListener(a.REBUY_EVENTS.init,this.sendIsRebuyAppInstalledMessage,{once:!0});return}n.default.postMessage({eventName:t.INTERNAL_EVENTS.isRebuyAppInstalled,value:!!window?.Rebuy?.SmartCart}),this.initRebuyEventListeners()};internalMessagingHandler=c=>{switch(c.data.eventName){case t.INTERNAL_EVENTS.openRebuyCart:return window?.Rebuy?.SmartCart?.show();default:return null}};initInternalMessagingSubscriptions(){n.default.subscribeMultipleEvents({eventNames:a.INTERNAL_MESSAGES_TO_SUBSCRIBE,callback:this.internalMessagingHandler})}initRebuyEventListeners(){document.addEventListener(a.REBUY_EVENTS.show,()=>{n.default.postMessage({eventName:t.INTERNAL_EVENTS.rebuyCartShown})}),document.addEventListener(a.REBUY_EVENTS.hide,()=>{n.default.postMessage({eventName:t.INTERNAL_EVENTS.rebuyCartHidden})})}init(){this.initInternalMessagingSubscriptions(),this.sendIsRebuyAppInstalledMessage()}}const o=new E;Object.freeze(o);var b=o}),d("dM1qF",function(e,i){s(e.exports,"INTERNAL_MESSAGES_TO_SUBSCRIBE",function(){return n}),s(e.exports,"REBUY_EVENTS",function(){return a});var t=r("aEodP");const n=[t.INTERNAL_EVENTS.openRebuyCart],a={show:"rebuy:smartcart.show",hide:"rebuy:smartcart.hide",init:"rebuy:smartcart.init"}})})();
