(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3704],{18881:(e,r,a)=>{"use strict";a.d(r,{A:()=>c});var t=a(80919),i=a(22117),s=a(53239),l=a(85146),d=a(67543);let n=e=>e.split("/").pop()||"";function c(e){let{productId:r,collectionName:a,searchTerm:c}=e,o=(0,i.useRouter)(),u=(0,t.nc)(e=>{var r,a;return null==(a=e.customer)||null==(r=a.customer)?void 0:r.email})||"",m=(0,d.A)(e=>null==e?void 0:e.cartId),{data:v,isLoading:p}=(0,l.K)();(0,s.useEffect)(()=>{if(!p&&window.ScarabQueue)try{var e,t;let i=!1,s=a?a.split("-").join(" "):"",l=(null==v||null==(t=v.cart)||null==(e=t.cartLines)?void 0:e.map(e=>({item:n(e.variantId),quantity:e.quantity,price:Number(e.costPerQuantity.amount)*e.quantity})))||[];r&&(window.ScarabQueue.push(["view","g/".concat(n(r))]),i=!0),s&&(window.ScarabQueue.push(["category",s]),i=!0),u&&(window.ScarabQueue.push(["setEmail",u]),i=!0),m&&(window.ScarabQueue.push(["tag",m.replaceAll(":","%3A").replaceAll("/","%2F").replaceAll("?","%3F")]),i=!0),l&&(window.ScarabQueue.push(["cart",l]),i=!0),c&&(window.ScarabQueue.push(["searchTerm",c]),i=!0),i&&window.ScarabQueue.push(["go"])}catch(e){}},[o.asPath,p,v,u,r,a,m,c])}},24813:e=>{e.exports=function(e,r,a){var t=-1,i=e.length;r<0&&(r=-r>i?0:i+r),(a=a>i?i:a)<0&&(a+=i),i=r>a?0:a-r>>>0,r>>>=0;for(var s=Array(i);++t<i;)s[t]=e[t+r];return s}},32294:(e,r,a)=>{"use strict";a.d(r,{AB:()=>o,J5:()=>u,Qp:()=>c,tH:()=>v,w1:()=>m});var t=a(80263),i=a(53239),s=a(67913),l=a(10895),d=a(75121),n=(a(65599),a(72766));let c=i.forwardRef((e,r)=>{let{...a}=e;return(0,t.jsx)("nav",{ref:r,"aria-label":"breadcrumb",...a})});c.displayName="Breadcrumb";let o=i.forwardRef((e,r)=>{let{className:a,...i}=e;return(0,t.jsx)("ol",{ref:r,className:(0,l.A)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground",a),...i})});o.displayName="BreadcrumbList";let u=i.forwardRef((e,r)=>{let{className:a,...i}=e;return(0,t.jsx)("li",{ref:r,className:(0,l.A)("inline-flex items-center gap-1.5",a),...i})});u.displayName="BreadcrumbItem";let m=i.forwardRef((e,r)=>{let{asChild:a,className:i,...n}=e,c=a?s.DX:d.N;return(0,t.jsx)(c,{ref:r,tabIndex:0,className:(0,l.A)("transition-colors hover:text-foreground",i),...n})});m.displayName="BreadcrumbLink",i.forwardRef((e,r)=>{let{className:a,...i}=e;return(0,t.jsx)("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:(0,l.A)("font-normal text-foreground",a),...i})}).displayName="BreadcrumbPage";let v=e=>{let{children:r,className:a,...i}=e;return(0,t.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,l.A)("[&>svg]:w-3.5 [&>svg]:h-3.5",a),...i,children:null!=r?r:(0,t.jsx)(n.A,{})})};v.displayName="BreadcrumbSeparator"},38684:(e,r,a)=>{"use strict";a.d(r,{A:()=>m});var t=a(80263),i=a(53239),s=a(77513),l=a(72766),d=a(92499),n=a(10895),c=a(1107),o=a(21841),u=a(72449);let m=e=>{var r;let{collection:a,carousel:m,height:v,width:p,loop:h=!1,className:f,withControls:x=!1,layout:g,swiperOptions:b}=e,[N,j]=i.useState(!1),[w,y]=i.useState(!1),[C,S]=i.useState(void 0),[A,E]=i.useState(new Set),[k,I]=i.useState(0),M=(0,i.useRef)(null),R=(0,i.useRef)(null),_=(0,i.useRef)(null);(0,i.useEffect)(()=>{let e=new IntersectionObserver(e=>{let[r]=e;return y(r.isIntersecting)});return M.current&&e.observe(M.current),()=>{e.disconnect()}},[]),(0,i.useEffect)(()=>{m.tag&&w&&!C&&S((0,u.QY)({tag:m.tag,placement:m.placement}))},[m,w,C]);let P=(0,i.useCallback)(()=>{if(!b)return 1;let e=b.breakpoints;if(e){let r=window.innerWidth,a=Object.keys(e).map(Number).sort((e,r)=>e-r),t=a[0];for(let e of a)if(r>=e)t=e;else break;let i=e[t],s=null==i?void 0:i.slidesPerView;return"number"==typeof s?s:1}let r=b.slidesPerView;return"number"==typeof r?r:1},[b]);(0,i.useEffect)(()=>{if(!N&&w&&C&&m.products.length>0){let e=(0,u.$O)(m.products);if(e.length>0){let r=P();(0,u.tU)(C,e).then(()=>{let a=e.slice(0,r);(0,u.OT)(C,a),E(new Set(a.map(e=>e.id)))}),j(!0)}}},[N,w,C,m.products,b]),(0,i.useEffect)(()=>{w||(j(!1),E(new Set))},[w]);let O=(0,i.useCallback)(()=>{C&&setTimeout(()=>{let e=Math.min(k+P(),m.products.length),r=(0,u.$O)(m.products.slice(k,e)).filter(e=>!A.has(e.id));if(r.length>0){(0,u.m0)(C,r);let e=r.map(e=>e.id);E(r=>new Set([...r,...e]))}},100)},[C,P,k,m.products,A]),q=(0,i.useCallback)(e=>{I(e.activeIndex)},[]),T=(0,i.useMemo)(()=>{if(C)return{id:C.id,tag:C.tag,placement:C.placement}},[C]);return(0,i.useEffect)(()=>{var e;(null==(e=M.current)?void 0:e.swiper)&&I(M.current.swiper.activeIndex)},[null==(r=M.current)?void 0:r.swiper]),(0,t.jsxs)("div",{className:(0,n.A)("flex relative","motion-safe:transition-all motion-safe:duration-500 motion-reduce:transition-none",f),children:[(0,t.jsx)(c.l,{parentRef:M,buttons:{prev:R,next:_},loop:h,...b,onSlideChange:q,a11y:{enabled:!0,prevSlideMessage:"Previous Product Card",nextSlideMessage:"Next Product Card"},children:m.products.map(e=>(0,t.jsx)(c.q,{"data-carousel-item":"carousel-item-".concat(e.handle),children:(0,t.jsx)("div",{children:(0,t.jsx)(d.A,{draggable:!1,ssBeacon:T,collection:a,product:e,href:a?"/collections/".concat(a,"/products/").concat(e.handle,"/"):"/products/".concat(e.handle,"/"),height:v,width:p,layout:g})})},e.handle))}),(0,t.jsxs)("div",{className:(0,n.A)("absolute top-[40%] -translate-y-1/2 -left-[35px] hidden justify-between items-center pointer-events-none z-[10]",x?"md:flex":""),style:{width:"calc(100% + 70px)"},children:[(0,t.jsx)(o.$,{ref:R,variant:"unstyled",className:"p-2 mr-4 pointer-events-auto transition duration-200 opacity-100 disabled:opacity-[0%] h-[300px]","aria-label":"Previous",onClick:O,children:(0,t.jsx)(s.A,{height:20,width:20})}),(0,t.jsx)(o.$,{ref:_,variant:"unstyled",className:"p-2 ml-4 pointer-events-auto transition duration-200 opacity-100 disabled:opacity-[0%] h-[300px]","aria-label":"Next",onClick:O,children:(0,t.jsx)(l.A,{height:20,width:20})})]})]})}},48026:(e,r,a)=>{"use strict";a.r(r),a.d(r,{__N_SSG:()=>A,default:()=>E});var t=a(80263),i=a(75334),s=a.n(i),l=a(88862),d=a(72859),n=a(53239),c=a(30980),o=a(10895),u=a(25336),m=a(24158),v=a(81223),p=a(70820),h=a(4161),f=a(85579),x=a(64826),g=a(21841),b=a(4014),N=a(79863),j=a(22544),w=a(2144);let y="GB"===a(96757).A.NEXT_PUBLIC_REGION?"\xa3":"$",C=e=>{var r;let{giftCardTemplates:a,giftCardDenominations:i,defaultValue:s}=e,l=(0,f.m)({initialValues:{theme:a[0].code,variantId:(null==(r=i.find(e=>e.value===s))?void 0:r.variantId)||i[i.length-1].variantId,receiverName:"",receiverEmail:"",senderName:"",senderMessage:""},validate:{theme:e=>e.trim().length>0?null:"Please choose a gift card template.",variantId:e=>e.trim().length>0?null:"Please choose a gift card value.",receiverName:e=>e.trim().length>0?null:"Recipient name is required.",receiverEmail:e=>e.trim()?N.U.test(e)?null:"Invalid email address.":"Recipient email is required.",senderName:e=>e.trim().length>0?null:"Sender name is required",senderMessage:e=>e.trim().length>0?null:"Message is required."}});(0,n.useEffect)(()=>{var e;let r=null==(e=i.find(e=>e.value===s))?void 0:e.variantId;r&&l.setFieldValue("variantId",r)},[s]);let d=a.find(e=>e.code===l.values.theme)||a[0],C=i.find(e=>e.variantId===l.values.variantId)||i[10],S=(0,b.A)(e=>e.openModal),[A,E]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(!A)return;S("cart");let e=setTimeout(()=>{E(!1)},2e3);return()=>clearTimeout(e)},[A,S]);let{addToCart:k,isLoading:I}=(0,x.A)({onSuccess:()=>{E(!0),l.reset()}});return(0,t.jsxs)("main",{id:"main-content",className:"w-full max-w-5xl mx-auto px-4 py-6 md:py-16 scroll-mt-[var(--header-height)]",children:[(0,t.jsx)("div",{className:"text-[13px] md:text-base font-normal tracking-[0.64px] uppercase",children:d.label}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 md:gap-12 mt-2.5",children:[(0,t.jsx)("div",{className:"col-span-1",children:(0,t.jsx)("div",{className:"md:max-w-[440px]",children:(0,t.jsxs)("div",{className:"rounded-[14px] px-3.5 py-4",style:{backgroundColor:d.color},children:[(0,t.jsx)("div",{className:"relative pb-[36.20%]",children:(0,t.jsx)(c.A,{className:"w-full h-full absolute object-cover",src:d.preview_url,width:1600,height:594,alt:d.label})}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-3 mt-4",children:[(0,t.jsxs)("div",{className:"flex justify-between space-x-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center text-sm space-x-1",children:[(0,t.jsx)("span",{className:"font-normal",children:"To:"}),(0,t.jsx)("span",{children:l.values.receiverName})]}),(0,t.jsxs)("div",{className:"flex items-center text-sm space-x-1",children:[(0,t.jsx)("span",{className:"font-normal",children:"From:"}),(0,t.jsx)("span",{children:l.values.senderName})]})]}),(0,t.jsxs)("div",{className:"text-[17px] font-bold",children:[y,C.value]})]}),l.values.senderMessage&&(0,t.jsx)("div",{className:"text-sm font-bold mt-6 whitespace-pre-wrap",children:l.values.senderMessage})]})]})})}),(0,t.jsx)("div",{className:"col-span-1",children:(0,t.jsx)("form",{noValidate:!0,onSubmit:l.onSubmit((e,r)=>{null==r||r.preventDefault();try{k({productVariantId:e.variantId,attributes:[{key:"_senderName",value:e.senderName},{key:"_senderMessage",value:e.senderMessage},{key:"_receiverEmail",value:e.receiverEmail},{key:"_receiverName",value:e.receiverName},{key:"_theme",value:e.theme}]})}catch(e){(0,j.oR)({description:"Something went wrong. Please try again.",variant:"destructive"})}}),children:(0,t.jsxs)("section",{"aria-labelledby":"choose-your-design",className:"space-y-6 md:max-w-[400px] ml-auto",children:[(0,t.jsx)("h2",{id:"choose-your-design",className:"text-black tracking-[0.64px]",children:"Choose your design"}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-3 md:gap-4",children:a.map(e=>(0,t.jsx)(g.$,{type:"button",variant:"unstyled",style:{backgroundColor:e.color},"data-selected":l.values.theme===e.code||void 0,onClick:()=>l.setFieldValue("theme",e.code),className:(0,o.A)("relative rounded-md pb-[61.47%]","data-[selected]:ring-1 data-[selected]:ring-black data-[selected]:ring-offset-4"),"aria-label":"Gift Card Variant: ".concat(e.label),children:(0,t.jsx)("div",{className:"absolute top-0 left-0 w-full h-full flex p-1",children:(0,t.jsx)("div",{className:"flex items-center border rounded-[4px] border-white",children:(0,t.jsx)(c.A,{className:"w-full h-auto object-cover",src:e.preview_url,width:1600,height:594,alt:e.label})})})},e.code))}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-3 md:grid-cols-5 md:gap-x-6 md:gap-y-4",children:i.map(e=>(0,t.jsxs)(g.$,{variant:"unstyled",type:"button","data-selected":l.values.variantId===e.variantId||void 0,onClick:()=>l.setFieldValue("variantId",e.variantId),className:(0,o.A)("border border-black rounded-sm px-4 h-11 flex items-center justify-center no-underline","text-sm tracking-[-0.84px] overflow-hidden","data-[selected]:bg-black data-[selected]:text-white"),"aria-label":"Gift Card Denomination: ".concat(y).concat(e.value),children:[y,e.value]},e.value))}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(u.A,{id:"giftCardReceiverNameLabel",htmlFor:"giftCardReceiverName",required:!0,children:"Recipient Name"}),(0,t.jsx)(m.A,{...l.getInputProps("receiverName",{withError:!1}),invalid:!!l.errors.receiverName,autoComplete:"off",id:"giftCardReceiverName",name:"receiverName",type:"text",required:!0,"aria-labelledby":"giftCardReceiverNameLabel","aria-invalid":!!l.errors.receiverName,"aria-describedby":l.errors.receiverName?"giftCardReceiverName-error":void 0}),l.errors.receiverName&&(0,t.jsx)(v.A,{id:"giftCardReceiverName-error",className:"mt-1",invalid:!0,role:"alert","aria-live":"assertive",children:l.errors.receiverName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.A,{id:"giftCardReceiverEmailLabel",htmlFor:"giftCardReceiverEmail",required:!0,children:"Recipient Email"}),(0,t.jsx)(m.A,{...l.getInputProps("receiverEmail",{withError:!1}),invalid:!!l.errors.receiverEmail,autoComplete:"off",id:"giftCardReceiverEmail",name:"receiverEmail",type:"text",required:!0,"aria-labelledby":"giftCardReceiverEmailLabel","aria-invalid":!!l.errors.receiverEmail,"aria-describedby":l.errors.receiverEmail?"giftCardReceiverEmail-error":void 0}),l.errors.receiverEmail&&(0,t.jsx)(v.A,{id:"giftCardReceiverEmail-error",className:"mt-1",invalid:!0,role:"alert","aria-live":"assertive",children:l.errors.receiverEmail})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.A,{id:"giftCardSenderNameLabel",htmlFor:"giftCardSenderName",required:!0,children:"Sender Name"}),(0,t.jsx)(m.A,{...l.getInputProps("senderName",{withError:!1}),invalid:!!l.errors.senderName,autoComplete:"off",id:"giftCardSenderName",name:"senderName",type:"text",required:!0,"aria-labelledby":"giftCardSenderNameLabel","aria-invalid":!!l.errors.senderName,"aria-describedby":l.errors.senderName?"giftCardSenderName-error":void 0}),l.errors.senderName&&(0,t.jsx)(v.A,{id:"giftCardSenderName-error",className:"mt-1",invalid:!0,role:"alert","aria-live":"assertive",children:l.errors.senderName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.A,{id:"giftCardSenderMessageLabel",htmlFor:"giftCardSenderMessage",required:!0,children:"Message"}),(0,t.jsx)(p.A,{...l.getInputProps("senderMessage",{withError:!1}),invalid:!!l.errors.senderMessage,id:"giftCardSenderMessage",name:"senderMessage",rows:4,required:!0,"aria-labelledby":"giftCardSenderMessageLabel","aria-invalid":!!l.errors.senderMessage,"aria-describedby":l.errors.senderMessage?"giftCardSenderMessage-error":void 0}),l.errors.senderMessage&&(0,t.jsx)(v.A,{id:"giftCardSenderMessage-error",className:"mt-1",invalid:!0,role:"alert","aria-live":"assertive",children:l.errors.senderMessage})]}),(0,t.jsxs)(g.$,{type:"submit",disabled:I,className:(0,o.A)("w-full block p-0","[&>*]:transition [&>*]:duration-300",A&&"[&>*]:-translate-y-full"),"aria-busy":I,"aria-label":"Add to Bag",children:[(0,t.jsx)("span",{className:"flex items-center justify-center h-full","data-idle":!0,children:I?(0,t.jsx)(w.A,{className:"w-5 h-5"}):"ADD TO BAG"}),(0,t.jsxs)("span",{className:"flex items-center justify-center h-full bg-white text-black","data-success":!0,children:[(0,t.jsx)("span",{children:"ADDED TO BAG"}),(0,t.jsx)(h.A,{width:"13",height:"14",className:"ml-2"})]})]})]})]})})})]})]})};var S=a(1731),A=!0;let E=e=>{let r=(0,S.XK)("GiftCard.Templates");return(0,t.jsxs)(t.Fragment,{children:["404"===e.pageType&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s(),{children:(0,t.jsx)("title",{children:"404 | Hello Molly"})}),(0,t.jsx)(l.M,{})]}),"404"!==e.pageType&&(0,t.jsxs)(t.Fragment,{children:[e&&e.SEO&&(0,t.jsxs)(s(),{children:[e.SEO.title&&(0,t.jsx)("title",{children:e.SEO.title}),e.SEO.canonical&&(0,t.jsx)("link",{rel:"canonical",href:e.SEO.canonical}),e.SEO.meta&&Object.entries(e.SEO.meta).map(e=>{let[r,a]=e;return(0,t.jsx)("meta",{name:r,content:a},r)})]}),"gift-card"===e.pageType?(0,t.jsx)(C,{giftCardTemplates:r,giftCardDenominations:e.giftCardProducts,defaultValue:e.defaultValue}):(0,t.jsx)(d.A,{product:e.product})]})]})}},62714:(e,r,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/[product]",function(){return a(48026)}])},79863:(e,r,a)=>{"use strict";a.d(r,{U:()=>t,e:()=>i});let t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,i=/([\w.-]+@[\w.-]+\.[\w.-]+)/g}},e=>{e.O(0,[1197,397,3087,2859,636,6593,8792],()=>e(e.s=62714)),_N_E=e.O()}]);