"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8914],{35316:(e,t,l)=>{l.d(t,{A:()=>i});var n=l(80263),a=l(42680);let i=()=>(0,n.jsxs)("div",{className:"isolate relative group",children:[(0,n.jsx)(a.A,{className:"w-full h-0 pb-[150%]"}),(0,n.jsx)(a.A,{className:"mt-3 h-12 w-full"})]})},38684:(e,t,l)=>{l.d(t,{A:()=>p});var n=l(80263),a=l(53239),i=l(77513),s=l(72766),r=l(92499),o=l(10895),c=l(1107),d=l(21841),u=l(72449);let p=e=>{var t;let{collection:l,carousel:p,height:m,width:f,loop:h=!1,className:g,withControls:x=!1,layout:w,swiperOptions:v}=e,[b,j]=a.useState(!1),[y,A]=a.useState(!1),[N,P]=a.useState(void 0),[V,_]=a.useState(new Set),[k,C]=a.useState(0),S=(0,a.useRef)(null),R=(0,a.useRef)(null),E=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=new IntersectionObserver(e=>{let[t]=e;return A(t.isIntersecting)});return S.current&&e.observe(S.current),()=>{e.disconnect()}},[]),(0,a.useEffect)(()=>{p.tag&&y&&!N&&P((0,u.QY)({tag:p.tag,placement:p.placement}))},[p,y,N]);let O=(0,a.useCallback)(()=>{if(!v)return 1;let e=v.breakpoints;if(e){let t=window.innerWidth,l=Object.keys(e).map(Number).sort((e,t)=>e-t),n=l[0];for(let e of l)if(t>=e)n=e;else break;let a=e[n],i=null==a?void 0:a.slidesPerView;return"number"==typeof i?i:1}let t=v.slidesPerView;return"number"==typeof t?t:1},[v]);(0,a.useEffect)(()=>{if(!b&&y&&N&&p.products.length>0){let e=(0,u.$O)(p.products);if(e.length>0){let t=O();(0,u.tU)(N,e).then(()=>{let l=e.slice(0,t);(0,u.OT)(N,l),_(new Set(l.map(e=>e.id)))}),j(!0)}}},[b,y,N,p.products,v]),(0,a.useEffect)(()=>{y||(j(!1),_(new Set))},[y]);let H=(0,a.useCallback)(()=>{N&&setTimeout(()=>{let e=Math.min(k+O(),p.products.length),t=(0,u.$O)(p.products.slice(k,e)).filter(e=>!V.has(e.id));if(t.length>0){(0,u.m0)(N,t);let e=t.map(e=>e.id);_(t=>new Set([...t,...e]))}},100)},[N,O,k,p.products,V]),M=(0,a.useCallback)(e=>{C(e.activeIndex)},[]),U=(0,a.useMemo)(()=>{if(N)return{id:N.id,tag:N.tag,placement:N.placement}},[N]);return(0,a.useEffect)(()=>{var e;(null==(e=S.current)?void 0:e.swiper)&&C(S.current.swiper.activeIndex)},[null==(t=S.current)?void 0:t.swiper]),(0,n.jsxs)("div",{className:(0,o.A)("flex relative","motion-safe:transition-all motion-safe:duration-500 motion-reduce:transition-none",g),children:[(0,n.jsx)(c.l,{parentRef:S,buttons:{prev:R,next:E},loop:h,...v,onSlideChange:M,a11y:{enabled:!0,prevSlideMessage:"Previous Product Card",nextSlideMessage:"Next Product Card"},children:p.products.map(e=>(0,n.jsx)(c.q,{"data-carousel-item":"carousel-item-".concat(e.handle),children:(0,n.jsx)("div",{children:(0,n.jsx)(r.A,{draggable:!1,ssBeacon:U,collection:l,product:e,href:l?"/collections/".concat(l,"/products/").concat(e.handle,"/"):"/products/".concat(e.handle,"/"),height:m,width:f,layout:w})})},e.handle))}),(0,n.jsxs)("div",{className:(0,o.A)("absolute top-[40%] -translate-y-1/2 -left-[35px] hidden justify-between items-center pointer-events-none z-[10]",x?"md:flex":""),style:{width:"calc(100% + 70px)"},children:[(0,n.jsx)(d.$,{ref:R,variant:"unstyled",className:"p-2 mr-4 pointer-events-auto transition duration-200 opacity-100 disabled:opacity-[0%] h-[300px]","aria-label":"Previous",onClick:H,children:(0,n.jsx)(i.A,{height:20,width:20})}),(0,n.jsx)(d.$,{ref:E,variant:"unstyled",className:"p-2 ml-4 pointer-events-auto transition duration-200 opacity-100 disabled:opacity-[0%] h-[300px]","aria-label":"Next",onClick:H,children:(0,n.jsx)(s.A,{height:20,width:20})})]})]})}},78914:(e,t,l)=>{l.r(t),l.d(t,{default:()=>w});var n=l(80263),a=l(35316),i=l(38684),s=l(33349),r=l(43553),o=l(99523),c=l(52132),d=l(39995),u=l(65744),p=l(85834),m=l(10895),f=l(53239),h=l(75121),g=l(64519),x=l(1107);let w=e=>{if(e.tabs.length<1)return null;let{tabs:t,borderBottom:l}=e,[w,v]=(0,f.useState)(t[0].collectionHandle),[b,j]=(0,f.useState)(!1),y=(0,f.useRef)(null),{data:A,isLoading:N}=(0,r.I)({queryKey:["homePageRecommendations"],queryFn:async()=>{let e=t.map(e=>(0,s.A)({tags:e.tags,shopper:o.A.get("shopper")||"",cart:o.A.get("cart")||"",lastViewed:o.A.get("lastViewed")||""}).then(async e=>{let t=(0,c.F)(null==e?void 0:e.data[0].results),l=await (0,d.vK)({first:t.length,query:t.map(e=>"id:".concat(e.mappings.core.uid)).join(" OR "),country:(0,u.V)()});return t.map(e=>{var t,n,a,i,s,r;let o=((null==l||null==(t=l.data)?void 0:t.products.edges)||[]).find(t=>t.node.id.split("/").pop()===e.mappings.core.uid);if(!o)return e;let c=((null==(a=o.node.media.edges)||null==(n=a[0])?void 0:n.node.__typename)==="Video"?null==(s=o.node.media.edges)||null==(i=s[0])?void 0:i.node.sources:[]).filter(e=>"video/mp4"===e.mimeType),d=c.pop(),u=c.pop();return{...e,price:o.node.priceRange.maxVariantPrice.amount,currency:o.node.priceRange.maxVariantPrice.currencyCode,variant_compare_at_price:o.node.compareAtPriceRange.maxVariantPrice.amount,images:o.node.images.edges.map(e=>e.node.url),imageUrl:(null==(r=o.node.images.edges[0])?void 0:r.node.url)||e.imageUrl,media:{highResUrl:(null==u?void 0:u.url)||"",lowResUrl:(null==d?void 0:d.url)||""}}}).filter(e=>e.ss_sizes&&e.tags)}).catch(()=>void 0)),l=await Promise.all(e);if(l.filter(Boolean).length)return l;throw Error("No recommendations found.")},enabled:b});return(0,n.jsx)(g.pL,{as:"div",onChange:e=>{j(e)},className:(0,m.A)("flex flex-col w-full py-6 md:py-10 px-4 sm:px-6 md:px-8",l?"border-b-[0.6px] border-black":""),triggerOnce:!0,children:(0,n.jsxs)(p.A.Root,{defaultValue:t[0].collectionHandle,value:w,onValueChange:v,children:[(0,n.jsxs)(p.A.List,{className:"flex-nowrap justify-center md:justify-start",children:[t.map((e,t)=>(0,n.jsx)(p.A.Trigger,{value:e.collectionHandle,className:(0,m.A)("font-normal w-full md:w-auto md:mr-8",e.collectionHandle===w&&"underline underline-offset-8 font-bold"),children:e.title.toUpperCase()},"".concat(e.title,"_controller_").concat(t))),(0,n.jsx)(h.N,{className:"hidden md:block ml-auto uppercase font-bold underline underline-offset-4",href:"/collections/".concat(w),children:"View All"})]}),N?(0,n.jsx)(n.Fragment,{children:t.map((e,t)=>(0,n.jsx)(f.Fragment,{children:(0,n.jsxs)(p.A.Content,{value:e.collectionHandle,className:"pt-8 md:px-2 motion-safe:transition-all motion-safe:duration-500 motion-reduce:transition-none",children:[(0,n.jsx)(x.l,{parentRef:y,spaceBetween:16,slidesPerView:1.2,breakpoints:{640:{slidesPerView:2.2},768:{slidesPerView:3.2},1024:{slidesPerView:4.2},1200:{slidesPerView:5.2}},a11y:{enabled:!0,prevSlideMessage:"Previous Product Card",nextSlideMessage:"Next Product Card"},children:Array.from({length:6}).map((t,l)=>(0,n.jsx)(x.q,{children:(0,n.jsx)(a.A,{})},"".concat(e.title,"_skeleton_").concat(l)))}),(0,n.jsx)(h.N,{className:"block md:hidden uppercase font-bold underline underline-offset-4 px-2 mt-6",href:"/collections/".concat(w),children:"View All"})]},"".concat(e.title,"_loading_").concat(t))},"".concat(e.title,"_fragment_").concat(t)))}):!N&&A?(0,n.jsx)(n.Fragment,{children:t.map((e,t)=>(0,n.jsxs)(p.A.Content,{value:e.collectionHandle,className:"pt-8 md:px-2",children:[(0,n.jsx)(i.A,{layout:"product",collection:e.collectionHandle,withControls:!0,carousel:{tag:e.tags,placement:e.placement,products:(null==A?void 0:A[t])||[]},className:"px-2 md:px-0",swiperOptions:{spaceBetween:16,slidesPerView:1.2,breakpoints:{640:{slidesPerView:2.2},768:{slidesPerView:3.2},1024:{slidesPerView:4.2},1200:{slidesPerView:5.2}}},height:570,width:380}),(0,n.jsx)(h.N,{className:"block md:hidden uppercase font-bold underline underline-offset-4 px-2 mt-6",href:"/collections/".concat(w),children:"View All"})]},"".concat(e.title,"_product_").concat(t)))}):null]})})}}}]);